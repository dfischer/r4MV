| Xenofobia Extraterreste
| PHReda 2006
|------------------------
^reda4.txt
^gui.txt

#xdir 0 #ydir 0
#fx #fy #xn #yn #px #py #ex #ey
#paso #minx #maxx
#puntaje 0
#sizenave 180

#fondo $52E4C4 $7F3DFB65 $5EDBE197 $40610DB7 $2D57EC47 $D54C497 $CE7EEF47 $C8C4E797 $8BD3E317
 $83D1F9E7 $E1E1FE4 $9988F0C5 $97A12AA7 $A1292497 $A9292497 $A928F0C7 $A928BCF7 $A128BCF7
 $9988BCF7 $9988F0C7 $D2AC3CF5 $D0C48187 $DB1076D7 $E24C6F37 $E24C3CF7 $E24C0AA7 $DA4C0AA7
 $D2AC0AA7 $D2AC3CF7 $F0EFFE4 $1860CC35 $1860F247 $1F9CF247 $273CF247 $2860CF37 $2AA88F37
 $1F9C9CF7 $1860A797 $1860CC37 $4F9D0615 $4F3D3B67 $56193247 $5C913247 $5E790AA7 $5ED8C497
 $5618D6D7 $4F9CDB67 $4F9D0617 $FFFE004 $A6DF30D5 $AF4310D7 $C0677B77 $B0030C47 $BB72F257
 $B12B0627 $A67ECAB7 $B0C70DC7 $A67F30D7 0
#alien2 $A2B0C64 $92AFFE85 $92ACC317 $FFA0C797 $6F3CC317 $6F3FFE87 $6F3F39F7 $C339F7 $92AF39F7
 $92AFFE87 $C5D1ED4 $B8C76005 $B98BBE87 $803CDC7 $4F3FCAB7 $4DB76197 $373EEF47 $36EC627
 $CB72E4A7 $B7A35D07 $CD2D2D4 $9B701CF5 $9B703E77 $A5583E77 $AFA03E77 $AFA01CF7 $AFA3FB77
 $A4C3F987 $9B73FB77 $9B701CF7 $C7A06185 $C7A08307 $D1E88307 $DC948307 $DC946187 $DC944187
 $D1E84187 $C7A04187 $C7A06187 $FB107555 $FB109867 $5B49867 $10609867 $10607557 $106053C7
 $5B453C7 $FB1053C7 $FB107557 $336C6185 $336C8307 $3CF08307 $46D88307 $46D86187 $46D84007
 $3CF04007 $336C4007 $336C6187 $59242305 $59244007 $5F9C4007 $66784007 $66782307 $66780617
 $5F9C0617 $59240617 $59242307 $EF97584 $E064BB65 $CBD12C36 $36D6617 $34912DB7 $2490BCF6
 $C0CC37 $E0C4BE77 $E097584 0
#alien1 $DE2F154 $BC34A925 $BC352DB7 $2A92DB7 $49252DB7 $4924A927 $49242497 $2A82497 $BC342497
 $BC34A927 $98C433C5 $98C4BE77 $ABD0BE77 $BF40BE77 $BF4033C7 $BF43A937 $ABD3A937 $98C7A937
 $98C433C7 $65541CF5 $6554A797 $5430A797 $430CA797 $430C1CF7 $430F9257 $54339257 $65579257
 $65541CF7 $EBD3A7A5 $EBD02617 $4F02617 $1E782617 $1E7BA7A7 $1E7B2937 $4F32937 $EBD32937
 $EBD3A7A7 $5037D4 $892B73D5 $892BAAB7 $ABD3AAB7 $CE7FAAB7 $CE7F73D7 $CE7F3D07 $ABD33D07
 $892B3D07 $892B73D7 $3C3364A5 $3C338937 $573F8937 $72AB8937 $72AB64A7 $72AB4197 $573F4197
 $3C334197 $3C3364A7 $E12AF3D5 $E12B1B77 $4331B77 $273F1B77 $273EF3D7 $273ECDC7 $432CDC7
 $E12ACDC7 $E12AF3D7 $57B044 $9E7EF0D5 $9E7F4007 $A55B4007 $AC974007 $AC96F0D7 $AC96A317
 $A55AA317 $9E7EA317 $9E7EF0D7 $83D2CC45 $83D2E197 $9312E197 $A24EE197 $A24ECC47 $A24EB6E7
 $9312B6E7 $83D2B6E7 $83D2CC47 $AF42D255 $AF42E4A7 $BC96E4A7 $C9EAE4A7 $C9EAD257 $C9EAC197
 $BC96C197 $AF42C197 $AF42D257 $50630195 $50633B77 $58033B77 $60033B77 $60030197 $6002C937
 $5802C937 $5062C937 $50630197 $3432C7A5 $3432B9F7 $4432B9F7 $5432B9F7 $5432C7A7 $5432D6E7
 $4432D6E7 $3432D6E7 $3432C7A7 $60C2D565 $60C2E317 $6CF2E317 $7926E317 $7926D567 $7926C7A7
 $6CF2C7A7 $60C2C7A7 $60C2D567 $1271E85 $1272937 $3CF2937 $6DB2937 $6DB1E87 $6DB13D7
 $3CF13D7 $12713D7 $1271E87 $536F8AB5 $536F8F47 $55B78F47 $58038F47 $58038AB7 $58038627
 $55B78627 $536F8627 $536F8AB7 $A8C7A7A5 $A8C7AAB7 $AB13AAB7 $ADBBAAB7 $ADBBA7A7 $ADBBA4A7
 $AB13A4A7 $A8C7A4A7 $A8C7A7A7 $843570C5 $8435B247 $C129B247 $FE7DB247 $FE7D70C7 $FE7D30C7
 $C12930C7 $843530C7 $843570C7 $7F9D76D5 $7F9D8C37 $7ED98C37 $7E198C37 $7E1976D7 $7E196307
 $7ED96307 $7F9D6307 $7F9D76D7 $D5573C5 $D55ADB7 $4249ADB7 $773DADB7 $773D73C7 $773D39E7
 $424939E7 $D5539E7 $D5573C7 $5CD624 $C4951865 $C49530C7 $CA4D30C7 $D06530C7 $D0651867
 $D0650007 $CA4D0007 $C4950007 $C4951867 $31E52795 $31E536D7 $361936D7 $3A4936D7 $3A492797
 $3A491867 $36191867 $31E51867 $31E52797 $95585555 $955899E7 $96DC99E7 $986499E7 $98645557
 $986410C7 $96DC10C7 $955810C7 $95585557 $66782F35 $66787E77 $65547E77 $64307E77 $64302F37
 $6433E197 $6557E197 $667BE197 $66782F37 $11E41CF5 $11E42617 $2A482617 $430C2617 $430C1CF7
 $430C1557 $2A481557 $11E41557 $11E41CF7 $C0C41B65 $C0C42497 $DBD02497 $F7402497 $F7401B67
 $F7401247 $DBD01247 $C0C41247 $C0C41B67 $E24FAC45 $E24FDE87 $E867DE87 $EEDFDE87 $EEDFAC47
 $EEDF7B77 $E8677B77 $E24F7B77 $E24FAC47 $1EDBADC5 $1EDBDE87 $22ABDE87 $267BDE87 $267BADC7
 $267B7E87 $22AB7E87 $1EDB7E87 $1EDBADC7 0
#alien $FFFE004 $837319F5 $837379F7 $6379F7 $7D5779F7 $7D5719F7 $7D56B9F7 $62B9F7 $8372B9F7
 $837319F7 $5B00FE4 $9CF716E5 $9CF733D7 $A74333D7 $B1EB33D7 $B1EB16E7 $B1EAF9F7 $A742F9F7
 $9CF6F9F7 $9CF716E7 $CCF72195 $CCF73D07 $D9EB3D07 $E7433D07 $E7432197 $E7430627 $D9EB0627
 $CCF70627 $CCF72197 $4332AB5 $4334627 $14934627 $25574627 $25572AB7 $255710D7 $149310D7
 $43310D7 $4332AB7 $424B24A5 $424B39F7 $592739F7 $700339F7 $700324A7 $70030F47 $59270F47
 $424B0F47 $424B24A7 $A002CF45 $A0028DC6 $A8C68DC6 $A8C6CF46 $46DA8C45 $46DAD0D6 $4DB6D0D6
 $4DB68C46 $E12B7565 $E1289866 $2A489866 $2A4B7566 $F900004 $AF436625 $AF412186 $5C912186
 $5C936626 $D8012185 $D8019246 $F9899246 $F9892186 $28612005 $2861A616 $52A9A616 $52A92006
 $AEDFF255 $AEDCA496 $8B10A496 $8B13F256 $6D5436D5 $6D543CF6 $6F3C3CF6 $6F3C36D6 $5B6C10C5
 $5B6C9E76 $78009E76 $780010C6 0
#alien3 $FFFE004 $AD1CAF95 $AF8CEEE7 $4E0EEE7 $58FCE047 $5B6CB947 $50746B47 $6186187 $B5A457C7
 $AD1CAF97 $FF72004 $AE54B945 $CF407027 $6187027 $3CF06667 $58FCB467 $4A5FAD27 $61B6DC7
 $BE2FA847 $AD1CAF87 $2C2A2C4 $DB70C305 $D900DB66 $D1B11FB6 $CF4141D6 $CB995556 $C6B95556
 $BE2D6DB6 $B335A356 $B0C5B6D6 $BE2DA356 $C449A836 $CA61A356 $CF41AD16 $DCA9B1F6 $E189A356
 $E1898FD6 $DCA97296 $D5595F16 $D55941D6 $DA391FB6 $DB70FD86 $E188D686 $30C0D1A5 $3C594F66
 $31596987 $30C1A357 $49BD6137 $62696987 $5F714377 $47F53C57 $3810B946 0
 
 
#nave $BA4887A4 $EC968315 $867D73C6 $62497246 $ECF68936 $FC03034 $924D7245 $91E973C6 $91897556
 $90C576D6 $90C579E6 $906579E6 $90657B66 $90017CF6 $90018186 $8FA18306 $8FA18C36 $8F418DB6
 $8F419556 $8FA196D6 $8FA19CF6 $9065A006 $90659866 $90C596D6 $90C590C6 $912990C6 $91298F36
 $91898F36 $91898DB6 $91E98AA6 $91E98926 $924D8926 $924D8496 $92AD8496 $92AD8306 $93D18306
 $94358496 $94358926 $94958AA6 $94959866 $94F59866 $94F59E76 $95599E76 $9559A616 $95B9A796
 $95B9A926 $967DA926 $967DAAA6 $9741AAA6 $97419246 $97A190C6 $97A18C36 $98018AA6 $98018926
 $98C58616 $9A4D8616 $9A4D8796 $9AAD8796 $9B118926 $9B118C36 $9B718DB6 $9B719246 $9BD193C6
 $9C3593C6 $9C359556 $9C959556 $9C9596D6 $9CF59866 $9CF599E6 $9D5999E6 $9DB99CF6 $9E1D9E76
 $9E1DA006 $9E7DA006 $9E7DA186 $9F41A306 $A0C5A306 $A0C5A186 $A129A006 $A1299246 $A0C590C6
 $A0658DB6 $A0658926 $A0018926 $A0018616 $9FA18616 $9FA18496 $9E7D8006 $9E7D7E76 $9E1D7E76
 $9CF579E6 $9CF57866 $9D5976D6 $9D597556 $9CF573C6 $50C170C5 $512570C6 $518570C6 $51857246
 $51E57246 $524973C6 $52497866 $52A979E6 $530D7CF6 $530D8006 $536D8006 $53CD8306 $53CD8496
 $54318616 $54318796 $55558C36 $55558F36 $55B590C6 $55B59CF6 $55559E76 $54F19E76 $54F19CF6
 $54919B66 $54319B66 $536D9866 $530D9866 $530D9556 $52A99556 $52A990C6 $52498F36 $52498DB6
 $51E58C36 $51858926 $51858796 $51258616 $51258496 $50C18496 $50C18306 $4F9D8306 $4F9D8496
 $4F3D8496 $4F3D90C6 $4F9D9246 $4F9D96D6 $500196D6 $5001A306 $5061A306 $5001A496 $4F9DA496
 $4F3DA616 $4ED9A496 $4E79A496 $4E19A306 $4D55A186 $4D55A006 $4C319B66 $4BCD9B66 $4BCD9866
 $4B6D96D6 $4B6D93C6 $4B0D90C6 $4AA98F36 $4AA98DB6 $4A498C36 $4A498AA6 $49858796 $49258796
 $49258616 $48018616 $48018796 $479D8796 $479D8926 $473D8926 $473D8C36 $46D98C36 $46798DB6
 $46799246 $46199246 $46199556 $45B596D6 $45B59866 $45559866 $44F199E6 $449199E6 $44319866
 $436D96D6 $436D9556 $424990C6 $41E590C6 $41258DB6 $41258AA6 $41858796 $41E58616 $42498616
 $42A98496 $430D8496 $430D8306 $436D8306 $43CD8186 $44318186 $44318006 $44918006 $44917E76
 $44F17E76 $46797866 $467976D6 $46D976D6 $46D97556 $473D7556 $479D73C6 $48617246 $486170C6
 $79F0F45 $79F5256 $C335256 $BBB0FE6 $D0030C45 $D0035256 $D4375256 $D4370C46 0
#nave1 $DE00044 $D003E4A5 $D00019E7 $F92819E7 $22A819E7 $22ABE4A7 $22ABB0D7 $F92BB0D7 $D003B0D7
 $D003E4A7 $D743E625 $D743EF47 $DF43EF47 $E7A3EF47 $E7A3E627 $E7A3DE87 $DF43DE87 $D743DE87
 $D743E627 $557E005 $557D9F7 $F9FD9F7 $19E7D9F7 $19E7E007 $19E7E627 $F9FE627 $557E627
 $557E007 $61BE195 $61BE4A7 $EDBE4A7 $1803E4A7 $1803E197 $1803DE87 $EDBDE87 $61BDE87
 $61BE197 $D8C7E7A5 $D8C7EC47 $DFA3EC47 $E67FEC47 $E67FE7A7 $E67FE317 $DFA3E317 $D8C7E317
 $D8C7E7A7 $EFA03CF5 $EFA05CF7 $F61C5CF7 $FCF45CF7 $FCF43CF7 $FCF41CF7 $F61C1CF7 $EFA01CF7
 $EFA03CF7 $738044 $BF43ADC5 $BF43EDC7 $C8C7EDC7 $D24FEDC7 $D24FADC7 $D24F6DC7 $C8C76DC7
 $BF436DC7 $BF43ADC7 $24F3ADC5 $24F3E937 $2B0FE937 $3187E937 $3187ADC7 $31877257 $2B0F7257
 $24F37257 $24F3ADC7 $706DB4 $CC34CC35 $CC3536D7 $F55936D7 $1ED936D7 $1ED8CC37 $1ED86187
 $F5586187 $CC346187 $CC34CC37 $7DE044 $1AA94495 $1AA98187 $2F3D8187 $43CD8187 $43CD4497
 $43CD0797 $2F3D0797 $1AA90797 $1AA94497 $1AA90AA5 $1AA91E77 $1CF11E77 $1F3D1E77 $1F3D0AA7
 $1F3CF867 $1CF0F867 $1AA8F867 $1AA90AA7 $41257245 $41258007 $4B0D8007 $54F18007 $54F17247
 $54F16617 $4B0D6617 $41256617 $41257247 $CB111555 $CB112927 $CEDD2927 $D3112927 $D3111557
 $D3110307 $CEDD0307 $CB110307 $CB111557 $B8C55555 $B8C58617 $CA4D8617 $DBD18617 $DBD15557
 $DBD12617 $CA4D2617 $B8C52617 $B8C55557 $A5598005 $A5598C37 $B1298C37 $BCF58C37 $BCF58007
 $BCF57557 $B1297557 $A5597557 $A5598007 $F3C53C5 $F3C6797 $3AA86797 $66186797 $661853C7
 $66184187 $3AA84187 $F3C4187 $F3C53C7 $91286795 $91287867 $B1E87867 $D3107867 $D3106797
 $D31056D7 $B1E856D7 $912856D7 $91286797 $FF009F4 $D5B87245 $D5B88927 $D3D08927 $D24C8927
 $D24C7247 $D24C5B67 $D3D05B67 $D5B85B67 $D5B87247 $A486305 $A486F37 $E786F37 $130C6F37
 $130C6307 $130C56D7 $E7856D7 $A4856D7 $A486307 $89E83E75 $89E859E7 $949459E7 $9FA059E7
 $9FA03E77 $9FA02307 $94942307 $89E82307 $89E83E77 $9DB819E5 $9DB82C37 $9E7C2C37 $9F402C37
 $9F4019E7 $9F400927 $9E7C0927 $9DB80927 $9DB819E7 $924C1555 $924C2187 $93D02187 $95582187
 $95581557 $95580927 $93D00927 $924C0927 $924C1557 $880019E5 $88002DB7 $89282DB7 $8A4C2DB7
 $8A4C19E7 $8A4C0797 $89280797 $88000797 $880019E7 $56182C35 $56184797 $5F9C4797 $69844797
 $69842C37 $698410C7 $5F9C10C7 $561810C7 $56182C37 $54300495 $543019E7 $561819E7 $586019E7
 $58600497 $5863F0D7 $561BF0D7 $5433F0D7 $54300497 $6003FD05 $60000DB7 $61840DB7 $636C0DB7
 $636FFD07 $636FEDC7 $6187EDC7 $6003EDC7 $6003FD07 $69840925 $69841B67 $68601B67 $673C1B67
 $673C0927 $673FF6E7 $6863F6E7 $6987F6E7 $69840927 $E5BB8F45 $E5BBB257 $F743B257 $8C3B257
 $8C38F47 $8C36C47 $F7436C47 $E5BB6C47 $E5BB8F47 $F24F5255 $F24F6AB7 $F67F6AB7 $FAAF6AB7
 $FAAF5257 $FAAF3B77 $F67F3B77 $F24F3B77 $F24F5257 $D800F6D5 $D8010DB7 $F5590DB7 $130D0DB7
 $130CF6D7 $130CE187 $F558E187 $D800E187 $D800F6D7 $EE7CF9E5 $EE7D0187 $F5B90187 $FD590187
 $FD58F9E7 $FD58F3C7 $F5B8F3C7 $EE7CF3C7 $EE7CF9E7 $D5B8EC35 $D5B8E927 $F494E927 $13CCE927
 $13CCEC37 $13CCF0C7 $F494F0C7 $D5B8F0C7 $D5B8EC37 $D4949B65 $D494A617 $E188A617 $EE7CA617
 $EE7C9B67 $EE7C9247 $E1889247 $D4949247 $D4949B67 $FB70A305 $FB70ADB7 $9E4ADB7 $18C0ADB7
 $18C0A307 $18C099E7 $9E499E7 $FB7099E7 $FB70A307 $F000BCF5 $F000C927 $F3D0C927 $F7A0C927
 $F7A0BCF7 $F7A0B0C7 $F3D0B0C7 $F000B0C7 $F000BCF7 0
#nave2 $2FE9104 $A55D2DC5 $BA4CA927 $CC99B567 $D6DCDCF7 $FF412927 $EAAF39F7 $CC98A627 $AA4EA937
 $A55D2DC7 $FE7C7CF5 $F8656617 $40C5A937 $46787E77 $6B712627 $65B7F877 $42A8BB67 $1CF3BD07
 $14910C37 $D24FB0D5 $C61FB9F7 $F8004187 $44F4A7A7 $EDBB9F7 $25568F47 $FC976627 $C67EA007
 $D5BBA7A7 $2FB8104 $B437D875 $A4F46617 $C5585247 $D128AAA7 $DA4C2307 $F5BBB9F7 $C61F9877
 $95BB4627 $B437D877 $21E7E7A5 $1BCC79E7 $36184927 $51E4EDB7 $4A4BE7A7 $618727A7 $361B8627
 $F24F1567 $21E7E7A7 $F064C305 $F7A1A797 $6191CF7 $2AA93867 $1BCCC307 $2433EC47 $6186AA7
 $DD5BD3D7 $F064C307 $A0C58185 $A0C5D3C7 $B065D3C7 $DB71C307 $C0658187 $C6DCEC37 $B0652F37
 $9F40EAA7 $A0C58187 $2F92104 $CE1D8DB5 $C989CAA7 $F67DCF37 $33CDCAA7 $4916C37 $1AA8B6D7
 $F4953CF7 $DC94BB67 $D8016797 $498579E5 $3555CF37 $56D9C497 $78014DB7 $630D6007 $74F04F37
 $55B50497 $30C0B0C7 $498579E7 $E24F19F5 $E8C793D7 $F4974DC7 $24338DC7 $73F19F7 $67A33D7
 $F496E7A7 $C61E4AB7 $E24F19F7 0

#bala $E5E9E74 $167BF875 $A92BB0D6 $D7A0AAA6 $1A4B90D6 $E1EAC315 $B0CAF36 $5C33B3D6 $3802A936
 $B3B4B34 $E1EAB875 $A8C730D6 $B1E8D3C6 $24F0B0C6 $803E7A5 $C900306 $44306006 $24F30F46
 $8C898D4 $3862ADC5 $EDB85866 $59E7AAB6 $4C32B6E6 $DB42005 $D7A0AF36 $AB132F46 $DC3750D6
 $1C1B194 $D67CADB5 $B494D9E6 $19251E76 $C90A306 $CF0A005 $1A491CF6 $4CF10796 $2C904F36
 $4545444 $2BCC4AA5 $4C90FE76 $63CC8926 $5A4BAAB6 0

#aliens 'alien 'alien1 'alien2 'alien3

#aliena 'alien

:calibracion
	12 'paso ! 100 'minx !	sw 100 - 'maxx !
	sw 2/ 'xn ! sh 80 - 'yn ! ;
	
:choque
	1 'puntaje +! -40 'ex +! -20 'ey +!	20 'px +! ;
	
:disparo
	py -? ( drop ; ) 20 - 'py !
	px py pos 40 dup dim 'bala rand rsprite	;
		
:iniene
	rand $ff and 40 + 'ey ! -100 'ex ! 
	rand $3 and 2* 2* 'aliens + @ 'aliena !
	;
	
:enemigo
	rand $f and 'ex +! rand $3 and 1- 'ey +! 
	ex sw 80 + >? ( iniene ) drop
	ex ey pos 140 140 dim aliena sprite 
	px py whin 1? ( choque ) drop ;

:rndf
	rand $7 and 0? ( -1 )( 1 ) nip ;

:fondoc
	sw 2/ 'fx ! sh 2/ 'fy ! ;
	
:play 
	inikey 'exit <=esc
	[ py -? ( xn 'px ! yn 'py ! )( drop ) ; ] $39 >key
	[ paso 'xdir ! ; ] $4d >key
	[ paso neg 'xdir ! ; ] $4b >key
	[ 0 'xdir ! ; ] dup $4d >ukey $4b >ukey	
	iniene	
	fondoc -1 'py ! iniene
	show cls 
		sw 40 + sh 100 + dim fx fy pos 'fondo sprite
		16 16 screen 
		blanco puntaje "G:%n " print
		xn yn pos sizenave dup dim 'nave sprite
		xdir 'xn +!
		minx xn >? ( 'xn ! )( drop )
		maxx xn <? ( 'xn ! )( drop )
		enemigo disparo ;

#fade 0
:presenta
	.page
    16 16 .table
    4 9 .at 8 2 .to 
    verde "JUGAR" 'play .tbtn .\ .\
    rojo "SALIR" 'exit .tbtn 
	.show cls
		fade 64 >? ( 0 nip )( 1+ ) dup ink 'fade ! 
		3 2 screen ":R4%/Games" print
		16 16 screen blanco
		1 7 pat "Tirale piedras a lo desconocido" print
		8 8 screen 
		negro 0 1 pat "Xenofobia" pcenter print
		blanco 0 1 pat "Xenofobia" pcenter 8 8 +pos print
		rojo 0 1 pat "Xenofobia" pcenter 4 4 +pos print		
		negro 0 2 pat "Extraterrestre" pcenter print
		blanco 0 2 pat "Extraterrestre" pcenter 8 8 +pos print
		rojo 0 2 pat "Extraterrestre" pcenter 4 4 +pos print ;
	
:juego presenta "main.txt" run  ;

: 0 paper calibracion juego ;